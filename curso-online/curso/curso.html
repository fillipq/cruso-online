<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="curso.css" />
  </head>
  <body>
    <header></header>
    <main>
      <div class="video-container">
        <div class="video-player">
          <video id="video-player" width="" controls>
            <source id="video-source" src="video1.mp4" type="video/mp4" />
            Seu navegador não suporta a tag de vídeo.
          </video>
          <h3 id="video-title">Vídeo 1</h3>
        </div>
      </div>
      <div class="playlist">
        <ul>
          <div class="container-playlist">
            <div class="title-playlist">
              <h3>Aula De trafego Pago</h3>
            </div>
            <li data-video="" data-title="Vídeo 1">Vídeo 1</li>
            <li data-video="video2.mp4" data-title="Vídeo 2">Vídeo 2</li>
            <li data-video="video3.mp4" data-title="Vídeo 3">Vídeo 3</li>
            <li data-video="video1.mp4" data-title="Vídeo 1">Vídeo 1</li>
            <li data-video="video2.mp4" data-title="Vídeo 2">Vídeo 2</li>
            <li data-video="video3.mp4" data-title="Vídeo 3">Vídeo 3</li>
            <li
              data-video="WhatsApp Video 2025-01-14 at 16.12.41.mp4"
              data-title="Vídeo 1"
            >
              Vídeo 100
            </li>
          </div>
          <div class="container-playlist">
            <div class="title-playlist">
              <h3>aula de trafego pago</h3>
            </div>
            <li data-video="" data-title="Vídeo 1">Vídeo 1</li>
            <li data-video="video2.mp4" data-title="Vídeo 2">Vídeo 2</li>
            <li data-video="video3.mp4" data-title="Vídeo 3">Vídeo 3</li>
            <li data-video="video1.mp4" data-title="Vídeo 1">Vídeo 1</li>
            <li data-video="video2.mp4" data-title="Vídeo 2">Vídeo 2</li>
            <li data-video="video3.mp4" data-title="Vídeo 3">Vídeo 3</li>
            <li
              data-video="WhatsApp Video 2025-01-14 at 16.12.41.mp4"
              data-title="Vídeo 1"
            >
              Vídeo 100
            </li>
          </div>
        </ul>
      </div>
    </main>
    <script src="script.js"></script>
  </body>
  <script>
    const videoPlayer = document.getElementById("video-player");
    const videoSource = document.getElementById("video-source");
    const videoTitle = document.getElementById("video-title"); // Título do vídeo
    const playlistItems = document.querySelectorAll(".playlist li");

    function loadAndPlayVideo(videoFile, title) {
      videoSource.src = videoFile;
      videoPlayer.load();
      videoPlayer.play();
      videoTitle.textContent = title; // Atualiza o título
    }

    playlistItems.forEach((item) => {
      item.addEventListener("click", () => {
        const videoFile = item.getAttribute("data-video");
        const title = item.getAttribute("data-title");
        loadAndPlayVideo(videoFile, title); // Atualiza o vídeo e o título
      });
    });

    videoPlayer.addEventListener("ended", () => {
      const currentVideo = videoSource.src.split("/").pop();
      let nextVideoIndex =
        Array.from(playlistItems).findIndex(
          (item) => item.getAttribute("data-video") === currentVideo
        ) + 1;

      if (nextVideoIndex < playlistItems.length) {
        const nextVideo =
          playlistItems[nextVideoIndex].getAttribute("data-video");
        const nextTitle =
          playlistItems[nextVideoIndex].getAttribute("data-title");
        loadAndPlayVideo(nextVideo, nextTitle);
      } else {
        console.log("Fim da playlist!");
      }
    });
  </script>
</html>
